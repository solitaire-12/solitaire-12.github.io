<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>çŸ¥ç§‹ä¸ªäººåšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="çŸ¥ç§‹ä¸ªäººåšå®¢">
<meta property="og:url" content="https://solitaire-12.github.io/index.html">
<meta property="og:site_name" content="çŸ¥ç§‹ä¸ªäººåšå®¢">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="solitaire-12">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="çŸ¥ç§‹ä¸ªäººåšå®¢" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">çŸ¥ç§‹ä¸ªäººåšå®¢</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://solitaire-12.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Server/å†…ç½‘ç©¿é€" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T09:05:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">å†…ç½‘ç©¿é€</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ç¯å¢ƒï¼š">ç¯å¢ƒï¼š</h2>
<ul>
<li>æœåŠ¡ç«¯é˜¿é‡Œäº‘ï¼š CentOS 8.5.2111</li>
<li>å®¢æˆ·ç«¯ï¼šwindows 11 / windows 10</li>
<li>frp 0.42</li>
</ul>
<h2 id="ç¬¬ä¸€æ­¥">ç¬¬ä¸€æ­¥</h2>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases">å®˜ç½‘ä¸‹è½½frpè½¯ä»¶</a></li>
<li>ç¬”è€…ä½¿ç”¨çš„ç‰ˆæœ¬ï¼šé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1cjmUiOY8iRIywx6whkhRdg">https://pan.baidu.com/s/1cjmUiOY8iRIywx6whkhRdg</a> æå–ç ï¼šgatr</li>
</ol>
<h2 id="ç¬¬äºŒæ­¥">ç¬¬äºŒæ­¥</h2>
<p><strong>æœåŠ¡ç«¯ï¼š</strong></p>
<ol>
<li>
<p>å°† <code>frp_0.42.0_linux_amd64.tar.gz</code>å‹ç¼©åŒ…ä¼ ç»™linux</p>
</li>
<li>
<p>è¿›å…¥åˆ°æ–‡ä»¶å­˜æ”¾ç›®å½•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf frp_0.42.0_linux_amd64.tar.gz</span><br><span class="line">cd frp_0.42.0_linux_amd64/</span><br><span class="line">vi frps.ini</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/frps.ini%E6%96%87%E4%BB%B6.png" alt="frps.iniæ–‡ä»¶"></p>
<p>ğŸ’¬<strong>æé†’</strong>ï¼šåªè¦<code>bind_port</code>çš„7000ç«¯å£æ²¡è¢«å ç”¨ï¼Œä¸€èˆ¬ä¸å»ºè®®ä¿®æ”¹ã€‚</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./frps <span class="literal">-c</span> frps.ini <span class="comment">#ä¸´æ—¶å¯åŠ¨</span></span><br><span class="line">nohup ./frps <span class="literal">-c</span> frps.ini &amp; <span class="comment">#æ°¸ä¹…å¯åŠ¨</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>å®¢æˆ·ç«¯ï¼š</strong></p>
<ol>
<li>
<p>è§£å‹ <code>frp_0.42.0_windows_amd64.zip</code> ï¼Œæ³¨æ„å…³é—­ä¸€ä¸‹æ€æ¯’è½¯ä»¶ã€‚</p>
</li>
<li>
<p>æ‰“å¼€ä¹‹åï¼Œä¿®æ”¹<code>frpc.ini</code>æ–‡ä»¶ã€‚</p>
<p><img src="/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/frpc.ini%E6%96%87%E4%BB%B6.png" alt="frpc.iniæ–‡ä»¶"></p>
<p>ğŸ’¬<strong>è§£é‡Š</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ssh]å®šä¹‰ä¸€ä¸ªä½¿ç”¨ [type] åè®®çš„url: [local_ip]:[local_port]è¢«[server_addr]:[remote_port]ä»£ç†äº†ã€‚</span><br><span class="line">å³ï¼šç”¨æˆ·è®¿é—® [server_addr]:[remote_port] åï¼ŒæœåŠ¡å™¨&quot;è·³è½¬&quot;åˆ° [local_ip]:[local_port]</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥cmd</span></span><br><span class="line">frpc.exe -c frpc.ini</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>âš ï¸<strong>æ³¨æ„</strong>ï¼šå‡å¦‚ä½ å°†<code>frpc.ini</code>ä¸­çš„<code>remote_port</code>å’Œ<code>frps.ini</code>ä¸­çš„<code>dashboard_port</code>é…ç½®æˆä¸€æ ·çš„è¯ï¼Œå¯åŠ¨å®¢æˆ·ç«¯çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç° <code>[ssh] start error: port unavailable</code>ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" data-id="cltwq98zf000wugfmg3u5cs5i" data-title="å†…ç½‘ç©¿é€" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/é¡¹ç›®ä¸Šçº¿" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:25:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/">linux|é¡¹ç›®éƒ¨ç½²</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="ç¯å¢ƒ">ç¯å¢ƒ</h3>
<p>ç³»ç»Ÿï¼šCentos 8.4.2105</p>
<p>docker : 24.0.5</p>
<p>nginx: nginx/1.25.1</p>
<h3 id="åç«¯">åç«¯</h3>
<h4 id="å®¿ä¸»æœºå®‰è£…">å®¿ä¸»æœºå®‰è£…</h4>
<ol>
<li>åç«¯è¾¾æˆjaråŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨</li>
<li><code>ps -ef | grep java</code>æŸ¥çœ‹æœ‰æ²¡æœ‰åœ¨è¿è¡Œçš„javaé¡¹ç›®ï¼Œè¦æ˜¯ç«¯å£å†²çªçš„è¯ï¼Œç›´æ¥<code>kill</code></li>
<li><code>java -jar</code>æ²¡æœ‰é—®é¢˜ä¹‹åï¼Œ<code>nohup java -jar x.jar &gt; x.log 2&gt;&amp;1 &amp; </code>å°±å¯ä»¥ã€‚</li>
</ol>
<h4 id="dockerå†…éƒ¨">dockerå†…éƒ¨</h4>
<ol>
<li>
<p>åˆ›å»ºDockerfile</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/Dockerfile%E4%BD%8D%E7%BD%AE.png" alt></p>
</li>
<li>
<p><code>vi Dockerfile</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FROM openjdk:8</span><br><span class="line">ADD 18080.jar test.jar</span><br><span class="line">EXPOSE 18080</span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;test.jar&quot;]</span><br></pre></td></tr></table></figure>
<p>æè¿°ï¼š</p>
<p><code>FROM openjdk:8</code>:æ‹‰å–åŸºç¡€é•œåƒ</p>
<p><code>ADD 18080.jar test.jar</code>ï¼šå°†<code>18080.jar</code>å¤åˆ¶åˆ°é•œåƒä¸­ï¼Œé‡å‘½åæˆ<code>test.jar</code></p>
<p><code>EXPOSE 18080</code>:å£°æ˜ç«¯å£ï¼Œä¸€èˆ¬æŒ‡å®šçš„æ˜¯jarè¿è¡Œç«¯å£</p>
<p><code>ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;test.jar&quot;]</code>ï¼šå®¹å™¨å¯åŠ¨ä¹‹åæ‰§è¡Œçš„å‘½ä»¤</p>
<p><code>MAINTAINER xx</code>: æ·»åŠ ä½œè€…ä¿¡æ¯</p>
</li>
<li>
<p>æ„å»ºé•œåƒ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t test .</span><br></pre></td></tr></table></figure>
<p>æè¿°ï¼š</p>
<p><code>test</code>ï¼šé•œåƒåç§°</p>
<p><code>.</code>ï¼šè¡¨ç¤º<code>Dockerfile</code>åœ¨å½“å‰ç›®å½•ä¸‹</p>
</li>
<li>
<p>æŸ¥çœ‹é•œåƒ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è¿è¡Œè¿›è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always --name test -p 8080:18080 test</span><br></pre></td></tr></table></figure>
<p>æè¿°ï¼š</p>
<p><code>-d</code>ï¼šè¡¨ç¤ºåå°è¿è¡Œå®¹å™¨</p>
<p><code>--restart=always</code>ï¼šä»£è¡¨å®¹å™¨åœ¨åœæ­¢æˆ–è€…æœåŠ¡å™¨å¼€æœºä¹‹åä¼šè‡ªåŠ¨é‡å¯</p>
<p><code>--name test</code>:å‘½åæˆtest</p>
<p><code>-p 8080:18080</code>ï¼šç«¯å£æ˜ å°„ [å®¿ä¸»æœºç«¯å£]:[å®¹å™¨ç«¯å£]</p>
<p><code>test</code>:è¿è¡Œçš„é•œåƒ</p>
</li>
<li>
<p>æ›´æ–°jaråŒ…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp new.jar [å®¹å™¨id]:/test.jar</span><br></pre></td></tr></table></figure>
<p>éšåï¼Œé‡å¯å®¹å™¨</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/841076">Dockeréƒ¨ç½²å¯æ‰§è¡ŒjaråŒ…-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p>
<h3 id="å‰ç«¯">å‰ç«¯</h3>
<h4 id="é¡¹ç›®æ‰“åŒ…">é¡¹ç›®æ‰“åŒ…</h4>
<p>æ‰“åŒ…ä¹‹åå°†é¡¹ç›®æ”¾åœ¨æŒ‚è½½çš„<code>html</code>ç›®å½•ä¸‹,è¯¦æƒ…æŸ¥çœ‹<a href="docker%E5%AE%89%E8%A3%85nginx">dockerå®‰è£…nginx</a> | <a href="2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/">çº¿ä¸Šè·³è½¬â†—ï¸</a></p>
<p>æŒ‚è½½é¡¹ç›®ï¼š</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/%E6%8C%82%E8%BD%BD%E9%A1%B9%E7%9B%AE.png" alt></p>
<p>å°†é¡¹ç›®æŒ‚è½½åˆ°æ–‡ä»¶å¤¹<code>a</code>é‡Œè¾¹</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/%E5%89%8D%E7%AB%AF%E6%89%93%E5%8C%85%E7%BB%93%E6%9E%9C.png" alt></p>
<h4 id="é…ç½®nginx">é…ç½®nginx</h4>
<p>ä¿®æ”¹å‰çš„é…ç½®æ–‡ä»¶ï¼š</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/%E4%BF%AE%E6%94%B9%E5%89%8Dnginx%E9%85%8D%E7%BD%AE.png" alt></p>
<p>ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶ï¼š<img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/%E4%BF%AE%E6%94%B9nginx%E9%85%8D%E7%BD%AE.png" alt></p>
<h5 id="æ³¨æ„äº‹é¡¹"><strong>æ³¨æ„äº‹é¡¹</strong></h5>
<ol>
<li>
<p>è¦æ˜¯<code>jar</code>è¿è¡Œåœ¨å®¿ä¸»æœº(å®‰è£…<code>dokcer</code>çš„æœåŠ¡å™¨)ä¸Šé¢çš„è¯ï¼Œå»ºè®®<code>server_name</code>ä¿®æ”¹æˆ<code>172.17.0.1</code>(è¿™ä¸ªåœ°å€æ˜¯å®‰è£…<code>docker</code>ä¹‹åï¼Œé»˜è®¤ç”Ÿæˆçš„ç½‘æ¡¥)ã€‚ç”¨<code>ifconfig -a</code>å¯ä»¥æŸ¥çœ‹<code>Linux</code> çš„<code>IP</code>åœ°å€</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/docker%E7%BD%91%E6%A1%A5.png" alt></p>
</li>
<li>
<p>ä¸è¦åœ¨ <code>localtion / &#123;&#125;</code>è¿™å—é‡Œè¾¹å–å†™ <code>proxy_pass</code>ï¼Œä¼šç½‘é¡µéƒ½æ‰“ä¸å¼€ã€‚</p>
</li>
<li>
<p>å€˜è‹¥æœ‰ç¬¬äºŒä¸ªå‰ç«¯é¡¹ç›®çš„è¯ï¼ŒåŒæ ·<code>html</code>ç›®å½•ä¸‹é¢åˆ›å»ºæŒ‚è½½æ–‡ä»¶å¤¹å¹¶æŠŠæ–‡ä»¶å­˜æ”¾åœ¨å†…ã€‚ç„¶ååœ¨å†™ä¸€ä¸ª<code>localtion</code>å—ï¼Œä¿®æ”¹ä¸€ä¸‹<code>listen</code>ç«¯å£ã€‚ä¾‹å¦‚ï¼š</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/%E5%A4%9A%E5%89%8D%E7%AB%AF%E9%85%8D%E7%BD%AE.png" alt></p>
</li>
</ol>
<h2 id="é—®é¢˜æ’æŸ¥ï¼š">é—®é¢˜æ’æŸ¥ï¼š</h2>
<h3 id="1-è¿è¡ŒjaråŒ…æœåŠ¡å™¨å¡æ­»">1.è¿è¡ŒjaråŒ…æœåŠ¡å™¨å¡æ­»</h3>
<p><strong>ç¯å¢ƒï¼š</strong></p>
<ul>
<li>
<p>ç³»ç»Ÿï¼š8.5.2111</p>
</li>
<li>
<p>é…ç½®ï¼š2æ ¸2G</p>
</li>
<li>
<p>ç›®æ ‡æœåŠ¡ï¼š</p>
<p>Minioï¼Œfrpï¼Œdockerï¼Œnginxï¼Œredisï¼Œmysqlï¼Œå‰ç«¯ï¼Œåç«¯</p>
</li>
</ul>
<p><strong>åœºæ™¯ï¼š</strong></p>
<blockquote>
<p>æœåŠ¡å™¨è¿è¡Œç€Minioï¼Œfrpï¼Œnginxï¼Œdockerï¼Œredis-dockerï¼Œmysql-dockerï¼Œå‰ç«¯ã€‚å°†åç«¯jaråŒ…ä¸Šä¼ æœåŠ¡å™¨ï¼Œ<code>nohup java -jar xx &amp;</code>è¿æ¥æœåŠ¡å™¨çš„xshellæ•²å‘½ä»¤æ‰§è¡Œå¡é¡¿ï¼Œæ— æ³•é‡è¿xshellï¼ŒéšåæœåŠ¡å™¨å¡æ­»ã€‚</p>
</blockquote>
<p><strong>é—®é¢˜æ’æŸ¥ï¼š</strong></p>
<p>è§‚å¯Ÿåˆ°xshellå‘½ä»¤è¿˜æ˜¯èƒ½æ•²ä¸Šçš„ï¼Œä½†æ˜¯é”®ç›˜æ•²å‡»ä¹‹åï¼Œxshellç•Œé¢å¾ˆä¹…æ‰èƒ½å›æ˜¾ï¼Œæ‰§è¡Œä¹Ÿè¦å¾ˆä¹…å¾ˆä¹…ï¼Œè€Œä¸”é‡è¿xshellä¹Ÿæ˜¯å¾ˆé•¿æ—¶é—´è¿æ¥ä¸ä¸Šã€‚</p>
<p><mark><strong>ç±»ä¼¼è¿™ç§ååº”æ—¶é—´å¾ˆé•¿ï¼Œç³»ç»Ÿå‡ºç°&quot;æ­»æœº&quot;çš„ç°è±¡ï¼Œå¤šåŠæ˜¯å†…å­˜ä¸è¶³ã€‚</strong></mark></p>
<p>ä¸ºå•¥ä¼šå†…å­˜ä¸è¶³å‘¢ï¼Ÿ</p>
<p>é‡å¯æœåŠ¡å™¨ä¹‹åï¼Œé‡æ–°é…ç½®å¥½éœ€è¦çš„ç¯å¢ƒï¼Œä¸è¿è¡ŒjaråŒ…ã€‚æŸ¥çœ‹<code>top</code>å‘½ä»¤ï¼š</p>
<p><img src="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/top%E5%91%BD%E4%BB%A4.png" alt="å›¾ç‰‡æ˜¯é—®é¢˜ä¿®å¤ä¹‹åæˆªçš„"></p>
<p>è§‚å¯Ÿå…¶ä¸­çš„è¿›ç¨‹ï¼Œæ³¨æ„åˆ°æœ‰ä¸ª<code>mysqld</code>å ç”¨äº†22.4%çš„å­˜ï¼Œæ•´å°æœåŠ¡å™¨çš„å†…å­˜æ˜¯2Gï¼Œå®é™…è¿è¡Œèµ·æ¥æŒ‡å®šæ²¡æœ‰2048Mçš„ï¼Œä»¥åŠå…¶ä»–ä¸€äº›ç³»ç»Ÿæ”¯æŒçš„ï¼Œç®—äºæŸ10%ï¼Œç©ºé—²å†…å­˜å®é™…çº¦ä¸º1850Mã€‚åˆ¨å»<code>mysqld</code>é»˜è®¤å ç”¨çš„1Gï¼Œå®é™…å ç”¨çš„450Mã€‚è¦æƒ³ç»´ç³»æ•´ä¸ªç³»ç»Ÿçš„å¼€æ”¯ï¼Œå¯ç”¨å†…å­˜ä¹Ÿå°±1Gå·¦å³ã€‚</p>
<p>å°†jaråœ¨å¼€å‘ç¯å¢ƒä¸Šè¿è¡Œï¼Œè§‚å¯Ÿåˆ°å…¶å ç”¨äº†å¼€å‘ç”µè„‘1000-1300Mçš„å†…å­˜èµ„æºã€‚</p>
<p>è§£å†³æ–¹æ¡ˆä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼š</p>
<ul>
<li>
<p>é…ç½®<code>java -jar</code>JVMçš„å‚æ•°ï¼Œé™å®šå…¶å†…å­˜å¤§å°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Xmx512M -jar xxx.jar</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä»mysqldä¸Šè§£å†³ï¼Œ<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46978507/article/details/129950706">å‚è€ƒ1</a>   <a target="_blank" rel="noopener" href="https://blog.csdn.net/paulwang040/article/details/128580776">å‚è€ƒ2</a></p>
<p>å®ƒæ˜¯Performance Schema çš„å¤§å°ï¼Œé»˜è®¤é…ç½®æ˜¯1Gã€‚</p>
</li>
</ul>
<p>æ­¤æ—¶åŸºæœ¬è§£å†³å†…å­˜ä¸è¶³é—®é¢˜ã€‚</p>
<h3 id="2-jaråŒ…è¿è¡Œï¼ŒCPUé£™å‡è‡³190">2.jaråŒ…è¿è¡Œï¼ŒCPUé£™å‡è‡³190%</h3>
<p><strong>ç¯å¢ƒï¼š</strong></p>
<ul>
<li>
<p>ç³»ç»Ÿï¼š8.5.2111</p>
</li>
<li>
<p>é…ç½®ï¼š2æ ¸2G</p>
</li>
<li>
<p>ç›®æ ‡æœåŠ¡å™¨ä»»åŠ¡è¿›ç¨‹ï¼š</p>
<p>Minioï¼Œfrpï¼Œdockerï¼Œnginxï¼Œredisï¼Œmysqlï¼Œå‰ç«¯ï¼Œåç«¯</p>
</li>
</ul>
<p><strong>åœºæ™¯ï¼š</strong></p>
<p>æœåŠ¡å™¨è¿è¡Œç€Minioï¼Œfrpï¼Œnginxï¼Œdockerï¼Œredis-dockerï¼Œmysql-dockerï¼Œå‰ç«¯ã€‚å°†åç«¯jaråŒ…ä¸Šä¼ æœåŠ¡å™¨ï¼Œ<code>nohup java -jar xx &amp;</code>åï¼ŒtopæŒ‡ä»¤ç›‘æµ‹åˆ°cpuå¤„åœ¨190%é™„è¿‘ã€‚</p>
<p><strong>é—®é¢˜æ’æŸ¥ï¼š</strong></p>
<ol>
<li>
<p>é€šè¿‡ å‘½ä»¤ï¼ŒæŸ¥çœ‹è¯¥è¿›ç¨‹ä¸‹çš„çº¿ç¨‹èµ„æºå ç”¨æƒ…å†µã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -mp pid -o THREAD,tid,time</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å°†å…¶ä¸­%CPUé«˜çš„çº¿ç¨‹TIDè¿›è¡Œè½¬ç </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &quot;%x\n&quot; TID</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>é€šè¿‡æŸ¥çœ‹cpuå ç”¨å¾ˆé«˜çš„çº¿ç¨‹çŠ¶æ€</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstack PID | grep [0xTID:ç¬¬äºŒéƒ¨è½¬ç å‡ºæ¥çš„tid]</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦‚æœçº¿ç¨‹è¿˜å¤„åœ¨RunnableçŠ¶æ€ï¼Œé‚£ä¹ˆé€šè¿‡<code>jstack</code>å»æ‰¾åˆ°è¯¦æƒ…ã€‚å¦‚æœé—®é¢˜æŒ‡å‘ä»£ç ï¼Œé‚£å°±å»ä¿®æ”¹ã€‚</p>
</li>
<li>
<p>åˆ°æ­¤åŸºæœ¬è§£å†³ã€‚</p>
</li>
</ol>
<p>å½“ç„¶ï¼Œè¿˜æœ‰ä¸ªæƒ…å†µå°±æ˜¯ï¼Œæ­£å¸¸å¯åŠ¨ç›´æ¥æ‹‰çˆ†ï¼Œéšååˆé™é»˜åˆ°1%çš„ï¼ŒæŸ¥çº¿ç¨‹é«˜å ç”¨çš„éƒ½åœæ­¢äº†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå€˜è‹¥åæœŸè¿˜æœ‰MQä»€ä¹ˆçš„å…¶ä»–æœåŠ¡è¦ç”¨çš„è¯ï¼Œå»ºè®®å°†å‡çº§åˆ°4æ ¸cpuã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/" data-id="cltwq98zg0010ugfm9dp671tx" data-title="linux|é¡¹ç›®éƒ¨ç½²" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%83%A8%E7%BD%B2/" rel="tag">éƒ¨ç½²</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/dockerå®‰è£…RabbitMQ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85RabbitMQ/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:23:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85RabbitMQ/">linux|dockerå®‰è£…RabbitMQ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼šwindows<a target="_blank" rel="noopener" href="https://erlang.org/download/">ä¸‹è½½erlang</a>  <a target="_blank" rel="noopener" href="https://www.rabbitmq.com/download.html">ä¸‹è½½RabbitMQ</a>  <a target="_blank" rel="noopener" href="https://mirrors.huaweicloud.com/rabbitmq-server/">ä¸‹è½½RabbitMQæºç </a></p>
<h2 id="Dockerå®‰è£…RabbitMQ">Dockerå®‰è£…RabbitMQ</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥æ‰¾rabbitmqé•œåƒ</span></span><br><span class="line">docker search rabbitmq</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pullé•œåƒ</span></span><br><span class="line">docker pull rabbitmq</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿è¡Œmq</span> </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># -p [æš´éœ²çš„å®¿ä¸»æœºç«¯å£]:[dockerå†…éƒ¨ç«¯å£]</span></span></span><br><span class="line">docker run -d --hostname rabbit-test --name rabbit \</span><br><span class="line">-p 15672:15672 -p 5672:5672 rabbitmq</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥mqé•œåƒ</span></span><br><span class="line">docker exec -it [å®¹å™¨id] /bin/bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿è¡Œ</span></span><br><span class="line">rabbitmq-plugins enable rabbitmq_management</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤è´¦å·å¯†ç ï¼šguestï¼šguest</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/docker%E5%AE%89%E8%A3%85RabbitMQ/" data-id="cltwq98zb000fugfmh2gb8oxx" data-title="linux|dockerå®‰è£…RabbitMQ" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/dockerå®‰è£…nginx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:23:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/">linux|dockerå®‰è£…nginx</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>centos8.5.2111</p>
<h3 id="æ‹‰å–é•œåƒ">æ‹‰å–é•œåƒ</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºNginxæŒ‚è½½ç›®å½•">åˆ›å»ºNginxæŒ‚è½½ç›®å½•</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p mytools/nginx/conf</span><br><span class="line"><span class="built_in">mkdir</span> -p mytools/nginx/log</span><br><span class="line"><span class="built_in">mkdir</span> -p mytools/nginx/html</span><br></pre></td></tr></table></figure>
<h3 id="å°†å®¹å™¨ä¸­çš„é…ç½®å¤åˆ¶åˆ°å®¿ä¸»æœº">å°†å®¹å™¨ä¸­çš„é…ç½®å¤åˆ¶åˆ°å®¿ä¸»æœº</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆå®¹å™¨</span></span><br><span class="line">docker run --name nginx -p 9001:80 -d nginx</span><br><span class="line"><span class="comment"># å°†å®¹å™¨nginx.confæ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/nginx.conf /mytools/nginx/conf/nginx.conf</span><br><span class="line"><span class="comment"># å°†å®¹å™¨conf.dæ–‡ä»¶å¤¹ä¸‹å†…å®¹å¤åˆ¶åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/conf.d /mytools/nginx/conf/conf.d</span><br><span class="line"><span class="comment"># å°†å®¹å™¨ä¸­çš„htmlæ–‡ä»¶å¤¹å¤åˆ¶åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/usr/share/nginx/html /mytools/nginx/</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E5%88%9D%E6%AC%A1%E5%90%AF%E5%8A%A8nginx%E5%A4%8D%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" alt></p>
<h3 id="æ­£å¼å¯åŠ¨nginx">æ­£å¼å¯åŠ¨nginx</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">-p 9002:80 \</span><br><span class="line">--name nginx \</span><br><span class="line">-v /mytools/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \</span><br><span class="line">-v /mytools/nginx/conf/conf.d:/etc/nginx/conf.d \</span><br><span class="line">-v /mytools/nginx/log:/var/log/nginx \</span><br><span class="line">-v /mytools/nginx/html:/usr/share/nginx/html \</span><br><span class="line">-d nginx:latest</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E6%AD%A3%E5%BC%8F%E5%90%AF%E5%8A%A8nginx.png" alt></p>
<h3 id="æŸ¥çœ‹è¿è¡ŒçŠ¶æ€">æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl localhost:9002</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E6%9C%AC%E5%9C%B0%E8%AE%BF%E9%97%AEnginx.png" alt></p>
<p><strong>å…¬ç½‘IPè®¿é—®</strong></p>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E5%85%AC%E7%BD%91ip%E8%AE%BF%E9%97%AEnginx.png" alt></p>
<h3 id="ä¿®æ”¹htmlæŸ¥çœ‹è¿è¡ŒçŠ¶æ€">ä¿®æ”¹htmlæŸ¥çœ‹è¿è¡ŒçŠ¶æ€</h3>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E4%BF%AE%E6%94%B9index_html%E6%96%87%E4%BB%B6.png" alt></p>
<h3 id="æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ">æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart nginx</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/%E9%87%8D%E5%90%AF%E6%9F%A5%E7%9C%8B%E4%BF%AE%E6%94%B9%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88.png" alt></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/" data-id="cltwq98ze000pugfmd992deqd" data-title="linux|dockerå®‰è£…nginx" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/dockerå®‰è£…redis" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:22:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/">linux|dockerå®‰è£…redis</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>centos 8.5.2111</p>
<h3 id="æ‹‰å–redisé•œåƒ">æ‹‰å–redisé•œåƒ</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/pull.png" alt></p>
<h3 id="å‡†å¤‡redisçš„é…ç½®æ–‡ä»¶">å‡†å¤‡redisçš„é…ç½®æ–‡ä»¶</h3>
<p>å®˜ç½‘ï¼š <a target="_blank" rel="noopener" href="http://www.redis.cn/download.html">redis 6.0.6 ä¸‹è½½ â€“ Redisä¸­å›½ç”¨æˆ·ç»„ï¼ˆCRUGï¼‰</a></p>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E4%B8%80%E4%B8%AAredis.png" alt></p>
<p>æŠŠ<code>redis.conf</code>ä¸Šä¼ åˆ°æœåŠ¡å™¨rediså®‰è£…çš„ä½ç½®</p>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/%E5%A4%87%E4%BB%BDredis.conf%E6%96%87%E4%BB%B6.png" alt></p>
<h3 id="é…ç½®redis-confæ–‡ä»¶">é…ç½®redis.confæ–‡ä»¶</h3>
<blockquote>
<p><code>bind 127.0.0.1</code> #æ³¨é‡Šæ‰è¿™éƒ¨åˆ†ï¼Œä½¿rediså¯ä»¥å¤–éƒ¨è®¿é—®<br>
<code>daemonize no</code>#ç”¨å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼å¯åŠ¨<br>
<code>requirepass ä½ çš„å¯†ç </code>#ç»™redisè®¾ç½®å¯†ç <br>
<code>appendonly yes</code>#redisæŒä¹…åŒ–ã€€ã€€é»˜è®¤æ˜¯no<br>
<code>tcp-keepalive 300</code> #é˜²æ­¢å‡ºç°è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥çš„é”™è¯¯ é»˜è®¤æ˜¯300</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ³¨é‡Šæ‰è¿™éƒ¨åˆ†ï¼Œä½¿rediså¯ä»¥å¤–éƒ¨è®¿é—®</span></span><br><span class="line">bind 127.0.0.1 </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼å¯åŠ¨</span></span><br><span class="line">daemonize no</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç»™redisè®¾ç½®å¯†ç </span></span><br><span class="line">requirepass ä½ çš„å¯†ç </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">redisæŒä¹…åŒ–ã€€ã€€é»˜è®¤æ˜¯no</span></span><br><span class="line">appendonly yes</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é˜²æ­¢å‡ºç°è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥çš„é”™è¯¯ é»˜è®¤æ˜¯300</span></span><br><span class="line">tcp-keepalive 300 </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">:/[findword] åœ¨viå‘½ä»¤ä¸­å¯»æ‰¾æ–‡å­—ï¼Œæœ€å¥½åŠ ä¸ªç©ºæ ¼å»æ‰¾</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºæœ¬åœ°ä¸dockeræ˜ å°„ç›®å½•">åˆ›å»ºæœ¬åœ°ä¸dockeræ˜ å°„ç›®å½•</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir mytools/redis</span><br><span class="line">mkdir mytools/redis/data</span><br></pre></td></tr></table></figure>
<p><strong>æŠŠä¸Šè¿°çš„redis.confå¤åˆ¶åˆ°redisç›®å½•ä¸‹</strong></p>
<h3 id="å¯åŠ¨">å¯åŠ¨</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -p 6379:6379 --name redis -v /mytools/redis/redis.conf:/etc/redis/redis.conf  -v /mytools/redis/data:/data -d redis redis-server /etc/redis/redis.conf --appendonly yes</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>-p 6379:6379</code>:æŠŠå®¹å™¨å†…çš„6379ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº6379ç«¯å£<code>-v /data/redis/redis.conf:/etc/redis/redis.conf</code>ï¼šæŠŠå®¿ä¸»æœºé…ç½®å¥½çš„redis.confæ”¾åˆ°å®¹å™¨å†…çš„è¿™ä¸ªä½ç½®ä¸­<code>-v /data/redis/data:/data</code>ï¼šæŠŠredisæŒä¹…åŒ–çš„æ•°æ®åœ¨å®¿ä¸»æœºå†…æ˜¾ç¤ºï¼Œåšæ•°æ®å¤‡ä»½<code>redis-server /etc/redis/redis.conf</code>ï¼šè¿™ä¸ªæ˜¯å…³é”®é…ç½®ï¼Œè®©redisä¸æ˜¯æ— é…ç½®å¯åŠ¨ï¼Œè€Œæ˜¯æŒ‰ç…§è¿™ä¸ªredis.confçš„é…ç½®å¯åŠ¨<code>â€“appendonly yes</code>ï¼šrediså¯åŠ¨åæ•°æ®æŒä¹…åŒ–</p>
</blockquote>
<p><strong>æŸ¥çœ‹æ—¥å¿—</strong>ï¼š<code>docker logs redis</code></p>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/redis%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png" alt></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/" data-id="cltwq98zd000lugfm8sr7eh7o" data-title="linux|dockerå®‰è£…redis" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/minio" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/minio/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:22:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/minio/">linux|dockerå®‰è£…minio</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ç¯å¢ƒ centos 8.5</p>
<h3 id="åˆ›å»ºminioæ–‡ä»¶å¤¹">åˆ›å»ºminioæ–‡ä»¶å¤¹</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mytools/minio</span><br><span class="line">cd /mytools/minio</span><br></pre></td></tr></table></figure>
<h3 id="wgetä¸‹è½½minio">wgetä¸‹è½½minio</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.minio.io/server/minio/release/linux-amd64/minio</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/minio/wgetMinIO.png" alt></p>
<h3 id="åˆ›å»ºæ—¥å¿—ï¼Œæˆæƒ">åˆ›å»ºæ—¥å¿—ï¼Œæˆæƒ</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> minio.log</span><br><span class="line"><span class="built_in">chmod</span> 777 minio</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/minio/%E6%8E%88%E6%9D%83+%E6%97%A5%E5%BF%97.png" alt></p>
<h3 id="å¯åŠ¨minio">å¯åŠ¨minio</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åé¢è·Ÿç€çš„æ˜¯é™æ€æ–‡ä»¶æŒ‚è½½ç›®å½•</span></span><br><span class="line">./minio server /opt/minio/data </span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/minio/%E5%90%AF%E5%8A%A8%E9%94%99%E8%AF%AF.png" alt></p>
<p>**é—®é¢˜åŸå› ï¼š**ç¬”è€…ç¼–å†™æ–‡æ¡£ä¹‹å‰ï¼Œè¿è¡Œè¿‡minioï¼Œè¿™é‡Œæ˜¾ç¤ºç«¯å£å ç”¨é—®é¢˜ï¼Œkillä¸€ä¸‹è¿›ç¨‹å°±å¥½äº†</p>
<p><img src="/2024/03/18/Server/minio/%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F.png" alt="å¯åŠ¨æˆåŠŸ"></p>
<p><strong>çº¢å­—</strong>ï¼šè­¦å‘Š:æ£€æµ‹åˆ°é»˜è®¤å‡­æ®â€™minioadmin:minioadminâ€™ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨â€™MINIO_ROOT_USERâ€™å’Œâ€™MINIO_ROOT_PASSWORDâ€™ç¯å¢ƒå˜é‡æ›´æ”¹è¿™äº›å€¼</p>
<h4 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">	<span class="built_in">export</span> MINIO_ROOT_USER=fileadmin</span><br><span class="line">	<span class="built_in">export</span> MINIO_ROOT_PASSWORD=fileadmin</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‡å®šç«¯å£é‡å¯minio">æŒ‡å®šç«¯å£é‡å¯minio</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æœ‰éœ€æ±‚è‡ªå·±æ¢æˆè‡ªå·±çš„å­˜æ”¾ç›®å½•</span><br><span class="line">./minio server /opt/minio/data --console-address &quot;:9050&quot;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/minio/%E6%88%90%E5%8A%9F%E8%AE%BF%E9%97%AE.png" alt></p>
<h3 id="è®¾ç½®åå°å¯åŠ¨">è®¾ç½®åå°å¯åŠ¨</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim start.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">nohup</span> /mytools/minio/minio server /opt/minio/data --console-address <span class="string">&quot;:9050&quot;</span> &gt; /opt/minio/minio.log 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line">sh start.sh</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜ï¼š">é—®é¢˜ï¼š</h3>
<p>minioæœåŠ¡éƒ¨ç½²åœ¨äº‘ç«¯æ—¶ï¼Œé…ç½®æœåŠ¡ç½‘ç«™è¦ç”¨å…¬ç½‘ipï¼Œä¸ç„¶æ²¡åŠæ³•å›æ˜¾</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/minio/" data-id="cltwq98zf000sugfmb81o7yts" data-title="linux|dockerå®‰è£…minio" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/dockerå®‰è£…mysql8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:21:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/">linux|dockerå®‰è£…mysql8</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="æ‹‰å–é•œåƒ">æ‹‰å–é•œåƒ</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0.23</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/%E6%8B%89%E5%8F%96MySQL8%E9%95%9C%E5%83%8F.png" alt></p>
<h3 id="æ£€æŸ¥é•œåƒ">æ£€æŸ¥é•œåƒ</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8MySQL8%E9%95%9C%E5%83%8F.png" alt></p>
<h3 id="å¯åŠ¨é•œåƒ">å¯åŠ¨é•œåƒ</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -p 3306:3306 --name mysql  \</span><br><span class="line">-v /usr/local/docker/mysql/mysql-files:/var/lib/mysql-files \</span><br><span class="line">-v /usr/local/docker/mysql/conf:/etc/mysql \</span><br><span class="line">-v /usr/local/docker/mysql/logs:/var/log/mysql \</span><br><span class="line">-v /usr/local/docker/mysql/data:/var/lib/mysql \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root \</span><br><span class="line">-d mysql:8.0.23</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=root -d mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/%E5%90%AF%E5%8A%A8mysql.png" alt></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f mysql #æŸ¥çœ‹å¯åŠ¨æ—¥å¿—</span><br></pre></td></tr></table></figure>
<h3 id="è¿›å…¥å®¹å™¨">è¿›å…¥å®¹å™¨</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mysql bash</span><br></pre></td></tr></table></figure>
<h1>æ–¹æ³•äºŒ</h1>
<h3 id="ä¸‹è½½mysql">ä¸‹è½½mysql</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0.23</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºæ–‡ä»¶å¤¹åšæŒ‚è½½">åˆ›å»ºæ–‡ä»¶å¤¹åšæŒ‚è½½</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//åˆ›å»ºæ–‡ä»¶å¤¹åšæŒ‚è½½</span><br><span class="line">mkdir -p /mydata/mysql/conf</span><br><span class="line">mkdir /mydata/mysql/data</span><br><span class="line">//åˆ›å»ºmy.cnfé…ç½®æ–‡ä»¶</span><br><span class="line">vi /mydata/mysql/conf/my.cnf</span><br></pre></td></tr></table></figure>
<h4 id="my-cnfæ·»åŠ å¦‚ä¸‹å†…å®¹">my.cnfæ·»åŠ å¦‚ä¸‹å†…å®¹</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">user=mysql</span><br><span class="line">character-set-server=utf8</span><br><span class="line">default_authentication_plugin=mysql_native_password</span><br><span class="line">secure_file_priv=/var/lib/mysql</span><br><span class="line">expire_logs_days=7</span><br><span class="line">sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span><br><span class="line">max_connections=1000</span><br><span class="line">lower_case_table_names=1</span><br><span class="line"> </span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"> </span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼š</strong></p>
<p>ä½ çš„æ•°æ®åº“è¦æ˜¯ä»æœ¬åœ°windowsä¸Šè¿ç§»åˆ°linuxçš„è¯ï¼Œ<code>lower_case_table_names=1</code>,è¿™ä¸ªä¸€å®šè¦åŠ ä¸Šï¼Œä¸ç„¶çš„è¯è¦é‡æ–°éƒ¨ç½²ï¼Œå¾ˆéº»çƒ¦</p>
<h3 id="åˆ›å»ºå®¹å™¨">åˆ›å»ºå®¹å™¨</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">--restart=always \</span><br><span class="line">--privileged=true \</span><br><span class="line">-p 3306:3306 --name mysql \</span><br><span class="line">-v /mydata/mysql/log:/var/log/mysql \</span><br><span class="line">-v /mydata/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /mydata/mysql/conf/my.cnf:/etc/mysql/my.cnf \</span><br><span class="line">-v /mydata/mysql/conf/conf.d:/etc/mysql/conf.d \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root \</span><br><span class="line">-d mysql:8.0</span><br></pre></td></tr></table></figure>
<h3 id="è¿›å…¥å®¹å™¨-2">è¿›å…¥å®¹å™¨</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mysql bash</span><br></pre></td></tr></table></figure>
<h3 id="è¿›å…¥mysql">è¿›å…¥mysql</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"># æŸ¥çœ‹æ•°æ®åº“</span><br><span class="line">show databases</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/docker%E5%AE%89%E8%A3%85mysql8/" data-id="cltwq98zb000iugfm0o9h5kpy" data-title="linux|dockerå®‰è£…mysql8" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/GitMaven" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/GitMaven/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:20:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/GitMaven/">linux|å®‰è£…Git/Maven</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å®‰è£…Git">å®‰è£…Git</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git</span><br></pre></td></tr></table></figure>
<p><strong>æ ¡éªŒå®‰è£…ç»“æœ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/GitMaven/git%E7%89%88%E6%9C%AC.png" alt></p>
<h2 id="å®‰è£…maven">å®‰è£…maven</h2>
<ol>
<li>
<p>åˆ›å»ºå­˜æ”¾mavençš„æ–‡ä»¶å¤¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /mytools/maven</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å°†<code>maven.gz</code>ä¸Šä¼ åˆ°è¯¥æ–‡ä»¶å¤¹</p>
<p><img src="/2024/03/18/Server/GitMaven/%E4%B8%8A%E4%BC%A0maven.png" alt></p>
</li>
<li>
<p>è§£å‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf apache-maven-3.9.4-bin.tar.gz</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line">    <span class="built_in">export</span> MAVEN_HOME=/mydata/maven/apache-maven-3.9.4</span><br><span class="line">    <span class="built_in">export</span> PATH=<span class="variable">$&#123;MAVEN_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>éªŒè¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -v</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/GitMaven/maven%E7%89%88%E6%9C%AC.png" alt></p>
</li>
<li>
<p>é…ç½®é˜¿é‡Œé•œåƒ(çœ‹æƒ…å†µ)</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/GitMaven/" data-id="cltwq98z70006ugfm917745p3" data-title="linux|å®‰è£…Git/Maven" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/docker" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/docker/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:20:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/docker/">linux|å®‰è£…Docker</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ç¯å¢ƒ ï¼š centos 8.4.2105</p>
<h2 id="æ£€æŸ¥æ˜¯å¦å­˜åœ¨docker">æ£€æŸ¥æ˜¯å¦å­˜åœ¨docker</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker -v</span><br></pre></td></tr></table></figure>
<h2 id="å¸è½½docker">å¸è½½docker</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker \</span><br><span class="line">           docker-client \</span><br><span class="line">           docker-client-latest \</span><br><span class="line">           docker-common \</span><br><span class="line">           docker-latest \</span><br><span class="line">           docker-latest-logrotate \</span><br><span class="line">           docker-logrotate \</span><br><span class="line">           docker-selinux \</span><br><span class="line">           docker-engine-selinux \</span><br><span class="line">           docker-engine</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker-ce \</span><br><span class="line">           docker-ce-cli \</span><br><span class="line">           containerd</span><br></pre></td></tr></table></figure>
<h2 id="è®¾ç½®ä»“åº“">è®¾ç½®ä»“åº“</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker/%E8%AE%BE%E7%BD%AE%E4%BB%93%E5%BA%93.png" alt></p>
<h2 id="ç¨³å®šä»“åº“">ç¨³å®šä»“åº“</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é˜¿é‡Œäº‘</span></span><br><span class="line">sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ¸…åé•œåƒ</span></span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">Â  Â  --add-repo \</span><br><span class="line">Â  Â  https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>
<h2 id="å®‰è£…-Docker-Engine-Community">å®‰è£… Docker Engine-Community</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span><br></pre></td></tr></table></figure>
<p>é—®é¢˜ï¼š</p>
<p><img src="/2024/03/18/Server/docker/%E4%B8%8B%E8%BD%BDdocker%E9%94%99%E8%AF%AF.png" alt></p>
<p>åŸå› ï¼šCentOS-8äº2021å¹´12æœˆ31æ—¥åœæ­¢äº†æºçš„æœåŠ¡</p>
<p><img src="/2024/03/18/Server/docker/%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC.png" alt></p>
<p>è§£å†³æ­¥éª¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1</span></span><br><span class="line">cd /etc/yum.repos.d</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2</span></span><br><span class="line">mkdir bak</span><br><span class="line">cp * bak/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3</span></span><br><span class="line">vi root_.repo #æŠŠenabled=1ï¼Œæ”¹æˆenable=0</span><br></pre></td></tr></table></figure>
<p><img src="/2024/03/18/Server/docker/%E8%A7%A3%E5%86%B3-%E4%B8%8B%E8%BD%BDdocker%E9%94%99%E8%AF%AF.png" alt></p>
<p><img src="/2024/03/18/Server/docker/%E4%B8%8B%E8%BD%BDdocker%E6%88%90%E5%8A%9F.png" alt></p>
<p><strong>æŒ‡å®šç‰ˆæœ¬å®‰è£…</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ yum list docker-ce --showduplicates | sort -r</span><br><span class="line"></span><br><span class="line">docker-ce.x86_64 Â 3:18.09.1-3.el7 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  docker-ce-stable</span><br><span class="line">docker-ce.x86_64 Â 3:18.09.0-3.el7 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  docker-ce-stable</span><br><span class="line">docker-ce.x86_64 Â 18.06.1.ce-3.el7 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-ce-stable</span><br><span class="line">docker-ce.x86_64 Â 18.06.0.ce-3.el7 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-ce-stable</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</span><br></pre></td></tr></table></figure>
<h2 id="å¯åŠ¨docker">å¯åŠ¨docker</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿è¡Œhello-worldé•œåƒï¼ŒæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure>
<h2 id="å¸è½½docker-2">å¸è½½docker</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤å®‰è£…åŒ…</span></span><br><span class="line">yum remove docker-ce</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤é•œåƒã€å®¹å™¨ã€é…ç½®æ–‡ä»¶ç­‰å†…å®¹</span></span><br><span class="line">rm -rf /var/lib/docker</span><br></pre></td></tr></table></figure>
<h2 id="centos-8-2å®‰è£…é—®é¢˜">centos 8.2å®‰è£…é—®é¢˜</h2>
<p><strong>è®¾ç½®ä»“åº“æ—¶å‘ç”Ÿé—®é¢˜</strong>ï¼š</p>
<p><img src="/2024/03/18/Server/docker/centos8.2%E5%AE%89%E8%A3%85%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98.png" alt></p>
<p>è§£å†³ï¼šæ›´æ–°ä¸€ä¸‹yum</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y update</span><br></pre></td></tr></table></figure>
<p><strong>å‡ºç°Failed to download metadata for repo â€˜appstreamâ€™: Cannot prepare internal mirrorlist: No URLs in mirrorlist</strong></p>
<blockquote>
<p>é—®é¢˜åŸå› ï¼š <em>å› ä¸ºcentos8é¡¹ç›®å®˜æ–¹å·²äº2021å¹´åº•åœæ­¢ç»´æŠ¤ï¼Œç›¸å…³æºå·²æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥ç½‘ä¸Š22å¹´å‰çš„æ¢æºæ•™ç¨‹éƒ½å·²æ— æ³•ä½¿ç”¨ã€‚</em></p>
</blockquote>
<p>è§£å†³ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥é…ç½®æ–‡ä»¶ç›®å½•</span></span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤æ—§çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">rm -rf *.repo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸‹è½½å¯ç”¨çš„.repoæ–‡ä»¶</span></span><br><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿è¡Œ yum makecache ç”Ÿæˆç¼“å­˜</span></span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/docker/" data-id="cltwq98za000cugfm5exr87e8" data-title="linux|å®‰è£…Docker" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Server/JDK" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/18/Server/JDK/" class="article-date">
  <time class="dt-published" datetime="2024-03-18T08:14:07.000Z" itemprop="datePublished">2024-03-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/18/Server/JDK/">linux|å®‰è£…JDK</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æ¸…åäº‘ä¸‹è½½jdk ï¼š <a target="_blank" rel="noopener" href="https://repo.huaweicloud.com/java/">https://repo.huaweicloud.com/java/</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ˜¯å¦å®‰è£…è¿‡jdk</span></span><br><span class="line">rpm -qa | grep java</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">â†‘è¿™é‡Œè¦æ˜¯å­˜åœ¨å†…å®¹ï¼Œæ‰§è¡Œåˆ é™¤</span></span><br><span class="line">rpm -qa | grep java | xargs rpm -e --nodeps</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹javaç‰ˆæœ¬</span></span><br><span class="line">java -version</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºå­˜æ”¾javaçš„æ–‡ä»¶</span></span><br><span class="line">mkdir /usr/java</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span>è¿›å…¥è¿™ä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŠŠä¸‹è½½å¥½çš„jdkä¸Šä¼ åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è§£å‹</span></span><br><span class="line">tar -xvf jdk1.8.0_202ar.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®ç¯å¢ƒ</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  ã€æ³¨æ„=é™„è¿‘ä¸è¦æœ‰ç©ºæ ¼ã€‘</span></span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_202</span><br><span class="line">export CLASSPATH=$CLASSPATH:$JAVA_HOME/lib/    </span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆå§‹åŒ–é…ç½® - æ‰§è¡Œè¿™æ¡è¯­å¥ï¼Œå¯ä»¥è®©ç¯å¢ƒç«‹å³ç”Ÿæ•ˆï¼Œä¸éœ€è¦é‡å¯</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹ç‰ˆæœ¬ (æœ‰ä¿¡æ¯çš„è¯ï¼Œå°±å®‰è£…æˆåŠŸäº†)</span></span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸Šè¿°ä¸­æ²¡æœ‰æ·»åŠ åˆ°ç¯å¢ƒä¸­ï¼Œå°è¯•ç»ˆç«¯ç›´æ¥è¿è¡Œä»¥ä¸‹ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/mytools/java/jdk1.8.0_202</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://solitaire-12.github.io/2024/03/18/Server/JDK/" data-id="cltwq98z80009ugfm5gyl22hi" data-title="linux|å®‰è£…JDK" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%9D%E5%A7%8B/">åˆå§‹</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E8%A3%85/" rel="tag">å®‰è£…</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%83%A8%E7%BD%B2/" rel="tag">éƒ¨ç½²</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/%E5%AE%89%E8%A3%85/" style="font-size: 20px;">å®‰è£…</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">éƒ¨ç½²</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/18/Server/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/">å†…ç½‘ç©¿é€</a>
          </li>
        
          <li>
            <a href="/2024/03/18/Server/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/">linux|é¡¹ç›®éƒ¨ç½²</a>
          </li>
        
          <li>
            <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85RabbitMQ/">linux|dockerå®‰è£…RabbitMQ</a>
          </li>
        
          <li>
            <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85nginx/">linux|dockerå®‰è£…nginx</a>
          </li>
        
          <li>
            <a href="/2024/03/18/Server/docker%E5%AE%89%E8%A3%85redis/">linux|dockerå®‰è£…redis</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 solitaire-12<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>